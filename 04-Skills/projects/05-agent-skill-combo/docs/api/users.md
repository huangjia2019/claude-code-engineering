# Users API

> Auto-generated by api-generating Skill. Do not edit manually.

## Base Path

`/api/users`

---

## Endpoints

### GET `/api/users`

ðŸ”’ Requires authentication (Admin only)

**Description**: List all users. Protected by both `requireAuth` and `isAdmin` middleware. Only administrators can access this endpoint. Supports pagination via query parameters.

**Parameters**:

| Name | In | Type | Required | Description |
|------|----|------|----------|-------------|
| page | query | integer | No | Page number (default: 1) |
| limit | query | integer | No | Items per page (default: 20) |

**Response**:

| Status | Description |
|--------|-------------|
| 200 | Successfully retrieved user list |
| 401 | Unauthorized - missing or invalid auth token |
| 403 | Forbidden - requires admin privileges |

**Response Example**:

```json
{
  "data": [
    {
      "id": "u_1001",
      "name": "Alice",
      "email": "alice@example.com"
    },
    {
      "id": "u_1002",
      "name": "Bob",
      "email": "bob@example.com"
    }
  ],
  "page": 1,
  "limit": 20
}
```

---

### GET `/api/users/:id`

ðŸ”’ Requires authentication

**Description**: Get a single user by ID. Protected by `requireAuth` middleware.

**Parameters**:

| Name | In | Type | Required | Description |
|------|----|------|----------|-------------|
| id | path | string | Yes | User ID |

**Response**:

| Status | Description |
|--------|-------------|
| 200 | Successfully retrieved user |
| 401 | Unauthorized - missing or invalid auth token |
| 404 | User not found |

**Response Example**:

```json
{
  "data": {
    "id": "u_1001",
    "name": "Alice",
    "email": "alice@example.com"
  }
}
```

---

### POST `/api/users`

**Description**: Create a new user. No authentication required. Request body is validated against `userSchema` via `validate` middleware.

**Parameters**:

| Name | In | Type | Required | Description |
|------|----|------|----------|-------------|

**Request Body**:

```json
{
  "name": "Charlie",
  "email": "charlie@example.com",
  "password": "securePass123"
}
```

**Response**:

| Status | Description |
|--------|-------------|
| 201 | User created successfully |
| 400 | Validation error - invalid request body |

**Response Example**:

```json
{
  "data": {
    "id": "u_1003",
    "name": "Charlie",
    "email": "charlie@example.com"
  }
}
```

---

### PUT `/api/users/:id`

ðŸ”’ Requires authentication

**Description**: Update an existing user by ID. Protected by `requireAuth` middleware. Request body is validated against `updateUserSchema` via `validate` middleware.

**Parameters**:

| Name | In | Type | Required | Description |
|------|----|------|----------|-------------|
| id | path | string | Yes | User ID |

**Request Body**:

```json
{
  "name": "Alice Updated",
  "email": "alice.new@example.com"
}
```

**Response**:

| Status | Description |
|--------|-------------|
| 200 | User updated successfully |
| 400 | Validation error - invalid request body |
| 401 | Unauthorized - missing or invalid auth token |
| 404 | User not found |

**Response Example**:

```json
{
  "data": {
    "id": "u_1001",
    "name": "Alice Updated",
    "email": "alice.new@example.com"
  }
}
```

---

### DELETE `/api/users/:id`

ðŸ”’ Requires authentication (Admin only)

**Description**: Delete a user by ID. Protected by both `requireAuth` and `isAdmin` middleware. Only administrators can delete users. Returns no content on success.

**Parameters**:

| Name | In | Type | Required | Description |
|------|----|------|----------|-------------|
| id | path | string | Yes | User ID |

**Response**:

| Status | Description |
|--------|-------------|
| 204 | User deleted successfully (no content) |
| 401 | Unauthorized - missing or invalid auth token |
| 403 | Forbidden - requires admin privileges |
| 404 | User not found |

**Response Example**:

```json
(No content)
```

---

## Error Codes

| Code | Message | Description |
|------|---------|-------------|
| 400 | Bad Request | Invalid input parameters |
| 401 | Unauthorized | Missing or invalid auth token |
| 403 | Forbidden | Requires admin privileges |
| 404 | Not Found | Resource does not exist |
| 500 | Internal Server Error | Unexpected server error |
